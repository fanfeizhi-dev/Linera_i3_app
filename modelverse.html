<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modelverse - Intelligence Cubed</title>
    <link rel="icon" type="image/svg+xml" href="/svg/I3 logo.svg">
    <link rel="icon" type="image/png" sizes="192x192" href="/png/i3-token-logo.png">  
    <link rel="apple-touch-icon" sizes="192x192" href="/png/i3-token-logo.png">
    <link rel="preload" as="image" href="/svg/chains/ethereum.svg">
    <link rel="preload" as="image" href="/svg/chains/bnb.svg">
    <link rel="preload" as="image" href="/svg/chains/polygon-zkevm.svg">
    <link rel="preload" as="image" href="/svg/chains/arbitrum.svg">
    <link rel="preload" as="image" href="/svg/chains/optimism.svg">
    <link rel="preload" as="image" href="/svg/chains/solana.svg">
    <link rel="preload" as="image" href="/svg/chains/base.svg">
    <link rel="preload" as="image" href="/svg/chains/zksync.svg">
    <link rel="preload" as="image" href="/svg/chains/opbnb.svg">   
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="modelverse.css">
    <link rel="stylesheet" href="account-dropdown.css">
    <link rel="stylesheet" href="modelverse-buttons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="pricing.js"></script>
    <script src="model-data.js"></script>
<!-- Base Account SDK -->
    <script src="https://unpkg.com/@base-org/account/dist/base-account.min.js"></script>
    
    <script>
        // 简单的初始化
        window.cdpConnect = async function() {
            if (!window.createBaseAccountSDK) {
                throw new Error('Base Account SDK not loaded');
            }
            
            const provider = window.createBaseAccountSDK({
                appName: 'Intelligence Cubed',
                appLogoUrl: 'https://intelligencecubed.netlify.app/png/i3-token-logo.png'
            }).getProvider();
            
            // 直接请求账户连接，跳过复杂的身份验证流程
            const accounts = await provider.request({
                method: 'eth_requestAccounts'
            });
            
            if (accounts && accounts.length > 0) {
                return { address: accounts[0] };
            }
            
            throw new Error('No accounts returned');
        };

    </script>

    <!-- 仅在旧浏览器需要；现代浏览器也可以保留，不会有副作用 -->
    <script async src="https://ga.jspm.io/npm:es-module-shims@1.10.0/dist/es-module-shims.js"></script>

        <script>
      window.appkit = null;
      window.dispatchEvent(new Event('reownAppKitLoaded'));
      console.log('[AppKit] disabled: Phantom-only mode');
    </script>

    <script type="module-shim">
	  import {
	    Connection,
	    clusterApiUrl,
	    PublicKey
	  } from 'https://esm.sh/@solana/web3.js@1.95.3';
	  window.SOL = { Connection, clusterApiUrl, PublicKey };
	</script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
		.wallet-modal {
		  display: flex !important;            /* 始终 flex 布局 */
		  align-items: center !important;      /* 始终垂直居中 */
		  justify-content: center !important;  /* 始终水平居中 */
		  position: fixed !important;
		  inset: 0 !important;
		  z-index: 10000;
		  background: rgba(0,0,0,.4);          /* ✅ 正确写法 */
		  opacity: 0;
		  transition: opacity .25s ease;
		  pointer-events: none;                /* 关闭时不可点击 */
		}
		.wallet-modal.show {
		  opacity: 1;
		  pointer-events: auto;                /* 打开时可点击 */
		}
		.wallet-modal-content {
		  position: relative;
		  background: #fff;
		  border-radius: 24px;
		  padding: 36px;
		  max-width: 440px;
		  width: 92%;
		  max-height: 80vh;
		  overflow-y: auto;
		  box-shadow: 0 12px 40px rgba(0,0,0,.12); /* ✅ 正确写法 */
		  transform: scale(.95);
		  opacity: 0;
		  transition: transform .25s ease, opacity .25s ease;
		}
		.wallet-modal.show .wallet-modal-content {
		  transform: scale(1);
		  opacity: 1;
		}

        /* 移除可能导致问题的动画 */
        @keyframes modalSlideIn {
            to { transform: none !important; }
        }

        .wallet-modal-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .wallet-modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 8px;
            font-family: 'Inter', sans-serif;
        }

        .wallet-modal-subtitle {
            font-size: 0.875rem;
            color: #6b7280;
            font-weight: 400;
            line-height: 1.5;
        }

        .wallet-close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #f3f4f6;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #6b7280;
        }

        .wallet-close-btn:hover {
            background: #e5e7eb;
            color: #374151;
        }

        /* 钱包选项卡片 */
        /* 更紧凑的卡片与行距 */
		.wallet-option {
		  display: flex;
		  align-items: center;
          justify-content: center;
		  gap: 12px;
		  padding: 12px 14px;          /* 原 20px -> 更紧凑 */
		  border: 1px solid #e5e7eb;
		  border-radius: 8px;          /* 原 16px/24px -> 8px */
		  background: #fff;
		  transition: background .2s ease, border-color .2s ease, transform .2s ease;
		}
		.wallet-option:hover {
		  border-color: #d1d5db;
		  background: #f9fafb;         /* 去掉大面积渐变 */
		  transform: translateY(-1px);
		}
		/* 列表项间距更紧凑 */
		.wallet-options { 
		  display: flex; 
		  flex-direction: column; 
		  gap: 12px;                   /* 原 16px -> 12px */
		}

		/* 钱包文字信息 */
		/* 标题文字：沉稳、左对齐，不漂浮 */
		.wallet-name {
		  font-size: 14px;
		  font-weight: 500;
		  color: #111827;
		  line-height: 1;

		}
		/* 副标题（如果使用）弱化显示，同样左齐 */
		.wallet-description {
		  font-size: 12px;
		  color: #6b7280;
		  line-height: 1.2;
		}
		/* 状态与箭头 */
		.wallet-status.status-available { background: rgba(16,185,129,.1); color:#059669; }
        .wallet-icon-wrap{
		  width:24px;
		  height:24px;
		  display:flex;
		  align-items:center;
		  justify-content:center;
		  flex-shrink:0;            /* 防止挤压 */
		}
		/* 放 <img> 的情况 */
		.wallet-icon-wrap img{
		  width:100%;
		  height:100%;
		  object-fit:contain;       /* 等比不变形 */
		  display:block;
		}
		/* 放 <svg> 直插的情况 */
		.wallet-icon-wrap svg{
		  width:24px;
		  height:24px;
		  display:block;
		}

        /* Account 按钮右侧的小图标 */
		#walletTypeIcon {
		  width: 18px;
		  height: 18px;
		  margin-left: 8px;
		  vertical-align: middle;
		  display: none;        /* 默认隐藏，连接后再显示 */
		  object-fit: contain;  /* 防止变形 */
		}

        .wallet-footer {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
            color: #6b7280;    /* 灰色，低调一点 */
            font-weight: 400;
        }


        /* 响应式设计 */
        @media (max-width: 480px) {
            .wallet-modal-content {
                padding: 24px;
                margin: 20px;
                width: calc(100% - 40px);
            }

            .wallet-modal-title {
                font-size: 1.25rem;
            }

            .wallet-name {
                font-size: 1rem;
            }
        }

/* Network modal (独立于 wallet modal) */
		.network-modal {
		  position: fixed;
		  inset: 0;
		  display: flex;
		  align-items: center;
		  justify-content: center;
		  background: rgba(17, 24, 39, 0.6);
		  backdrop-filter: blur(2px);
		  opacity: 0;
		  pointer-events: none;
		  transition: opacity .25s ease;
		  z-index: 9999;
		}
		.network-modal.show {
		  opacity: 1;
		  pointer-events: auto;
		}
		.network-modal-content {
		  width: min(420px, 92vw);
		  background: #fff;
		  border-radius: 12px;                  /* 圆角更小，更紧凑 */
		  box-shadow: 0 8px 24px rgba(0,0,0,0.12);
		  padding: 24px 24px 20px;
		  transform: scale(.95);
		  opacity: 0;
		  transition: transform .25s ease, opacity .25s ease;
		}
		.network-modal.show .network-modal-content {
		  transform: scale(1);
		  opacity: 1;
		}
		.network-modal-header {
		  display: flex;
		  align-items: center;
		  justify-content: space-between;
		  margin-bottom: 24px;
		}
		.network-modal-title {
		  font-size: 18px;
		  font-weight: 600;
		  color: #1f2937;
		}
		.network-modal-subtitle {
		  font-size: 13px;
		  color: #6b7280;
		  margin-top: 4px;
		}
		.network-close-btn {
		  border: none;
		  background: transparent;
		  font-size: 18px;
		  line-height: 1;
		  cursor: pointer;
		  color: #6b7280;
		  transition: color .2s ease;
		}
		.network-close-btn:hover {
		  color: #111827;
		}
		.network-modal-footer {
		  text-align: center;
		  margin-top: 16px;
		  font-size: 13px;
		  color: #6b7280;
		}
		/* 弹窗里的按钮样式：更紧凑，规整 */
		.network-modal-content .wallet-option {
		  display: flex;
		  align-items: center;       /* 图标 + 文字垂直居中 */
		  justify-content: flex-start;
		  gap: 12px;
		  padding: 12px 14px;        /* 紧凑内边距 */
		  border: 1px solid #e5e7eb;
		  border-radius: 8px;        /* 小圆角 */
		  background: #fff;
		  transition: background .2s ease, border-color .2s ease, transform .2s ease;
		}
		.network-modal-content .wallet-option:hover {
		  border-color: #d1d5db;
		  background: #f9fafb;       /* 简单浅灰 hover */
		  transform: translateY(-1px);
		}
		.network-modal-content .wallet-name {
		  font-size: 14px;
		  font-weight: 500;
		  color: #111827;
		}
		.network-modal-content .wallet-description {
		  font-size: 12px;
		  color: #6b7280;
		}

        /* --- Current Network badge --- */
		.network-badge{
		  display:inline-flex; align-items:center; gap:8px;
		  background:#f3f4f6; color:#1f2937;
		  border:1px solid #e5e7eb; border-radius:999px;
		  padding:6px 12px; margin-right:12px;
		  height:34px; line-height:1; white-space:nowrap;
		}
		.network-badge__icon{ width:20px; height:20px; object-fit:contain; display:block }
		.network-badge__text{ font-size:14px; font-weight:600; letter-spacing:.2px }
		.network-badge__caret{ width:16px; height:16px; opacity:.6 }
		@media (max-width: 768px){
		  .network-badge{ display:none !important; }
		}

    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <!-- Left Section -->
            <div class="header-left">
                <div class="logo" onclick="window.location.href='index.html'" style="cursor: pointer;">
                    <img src="svg/I3 logo.svg" alt="Intelligence Cubed" class="logo-image" style="height: 40px; width: auto;">
                </div>
                <nav class="nav-menu">
                    <button class="nav-item" onclick="window.location.href='index.html'">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2" fill="none"/>
                        </svg>
                        Chats
                    </button>
                    <button class="nav-item active">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M12 2L2 7l10 5 10-5-10-5z" stroke="currentColor" stroke-width="2" fill="none"/>
                            <path d="m2 17 10 5 10-5" stroke="currentColor" stroke-width="2"/>
                            <path d="m2 12 10 5 10-5" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        Modelverse
                    </button>
                    <button class="nav-item" onclick="window.location.href='benchmark.html'">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
                        </svg>
                        Benchmark
                    </button>
                    <button class="nav-item" onclick="window.location.href='canvas.html'">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2" fill="none"/>
                            <path d="M9 9h6v6H9z" stroke="currentColor" stroke-width="2" fill="none"/>
                        </svg>
                        Canvas
                    </button>
                    <button class="nav-item" onclick="window.location.href='workflow.html'">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" stroke="currentColor" stroke-width="2" fill="none"/>
                        </svg>
                        Workflows
                    </button>
                    <button class="nav-item" onclick="window.location.href='mycart.html'">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M7 4V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M5 4h14l-1 14H6L5 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        MyCart
                    </button>
                </nav>
            </div>

            <!-- Right Section -->
			<div class="header-right">
                <button id="networkBadge" class="network-badge" type="button" style="display:none" onclick="openNetworkPickerModal()">
				  <img id="networkBadgeIcon" class="network-badge__icon" src="" alt="">
				  <span id="networkBadgeText" class="network-badge__text">Network</span>
			        <svg class="network-badge__caret" width="12" height="12" viewBox="0 0 24 24">
				        <path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2"/>
				    </svg>
				</button>
			  <div class="user-section">
			    <div id="accountDropdownMount"></div>
			  </div>
			</div>
        </div>
    </header>

    <main class="modelverse-content full-width">
        <div class="modelverse-container">
            <section class="modelverse-header">
                <h1 class="modelverse-title">Modelverse</h1>
                <p class="modelverse-subtitle">Browse curated AI models with transparent USDC pricing.</p>
            </section>

            <section class="search-section">
                <div class="search-container">
                    <input id="searchInput" class="search-input" type="text" placeholder="Search models by name, category, or industry" autocomplete="off">
                    <button class="search-btn" type="button" onclick="performSearch()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </button>
                    <button class="clear-btn" type="button" onclick="clearSearch()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div id="searchResults" class="search-info search-results-info">Showing 0 / 0 models</div>
            </section>

            <section class="models-table-section">
                <div class="models-table-container">
                    <table class="models-table">
                        <thead>
                            <tr>
                                <th>MODEL</th>
                                <th>CATEGORY</th>
                                <th>INDUSTRY</th>
                                <th>PRICE / API CALL (USDC)</th>
                                <th>SHARE PRICE (USDC)</th>
                                <th>MARKET CHANGE</th>
                                <th>USAGE</th>
                                <th>COMPATIBILITY</th>
                                <th>TOTAL SCORE</th>
                                <th class="action-col">ACTION</th>
                            </tr>
                        </thead>
                        <tbody id="modelsTableBody"></tbody>
                    </table>
                </div>
            </section>
        </div>
    </main>

    <!-- Model Detail Modal -->
    <div id="modelCartModal" class="mvpro-overlay">
        <div class="mvpro-card" role="dialog" aria-modal="true" aria-labelledby="modelCartTitle">
            <div class="mvpro-header">
                <h2 id="modelCartTitle" class="mvpro-title">Model Details</h2>
                <button class="mvpro-close" onclick="closeModal()" aria-label="Close">×</button>
            </div>

            <div class="mvpro-body">
                <section class="mvpro-info">
                    <div class="mvpro-row">
                        <span class="mvpro-label">Purpose</span>
                        <p id="modelPurpose" class="mvpro-text">-</p>
                    </div>
                    <div class="mvpro-row">
                        <span class="mvpro-label">Use Case</span>
                        <p id="modelUseCase" class="mvpro-text">-</p>
                    </div>
                    <div class="mvpro-row">
                        <span class="mvpro-label">Paper Link</span>
                        <p id="modelPaperLink" class="mvpro-text">
                            <a href="#" target="_blank" rel="noopener noreferrer" style="color: #3b82f6; text-decoration: none; display: inline-flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                    <polyline points="15 3 21 3 21 9"></polyline>
                                    <line x1="10" y1="14" x2="21" y2="3"></line>
                                </svg>
                                View Paper
                            </a>
                        </p>
                    </div>
                    <div class="mvpro-row mvpro-pills">
                        <div class="mvpro-pill"><span>Category</span><strong id="modelCategory">—</strong></div>
                        <div class="mvpro-pill"><span>Industry</span><strong id="modelIndustry">—</strong></div>
                    </div>
                    <div class="mvpro-kpis">
                        <div class="mvpro-kpi"><div class="lbl">Price</div><div id="modelPrice" class="val">-</div></div>
                        <div class="mvpro-kpi"><div class="lbl">Market Change</div><div id="modelChange" class="val">-</div></div>
                        <div class="mvpro-kpi"><div class="lbl">Reviews</div><div id="modelRating" class="val">-</div></div>
                    </div>
                </section>

                <aside class="mvpro-chart">
                    <div class="mvpro-chart-title">Public Share Purchased</div>
                    <canvas id="shareChart" width="220" height="220"></canvas>
                    <div class="mvpro-legend">
                        <div class="item"><span class="mvpro-dot p"></span>Purchased (%)</div>
                        <div class="item"><span class="mvpro-dot r"></span>Remaining (%)</div>
                    </div>
                    <div id="chartPercentage" class="mvpro-chart-percentage"></div>
                </aside>
            </div>

            <div class="mvpro-actions">
                <button class="mvpro-btn primary" onclick="tryModel()">Try Out</button>
                <button class="mvpro-btn success" onclick="addToCart()">Add to cart</button>
                <button class="mvpro-btn" onclick="closeModal()">Close</button>
            </div>
        </div>
    </div>


    <script>
	(function syncRenderNetworkBadge(){
	  try {
	    // 1) 读取本地"首选网络"（你已有 getPreferredNetwork）
	    var pref = (window.getPreferredNetwork && window.getPreferredNetwork()) || null;
	    // 2) 快速映射（仅用于首屏，不依赖任何 SDK）
	    var ICON = {
	      ethereum: '/svg/chains/ethereum.svg',
	      bnb:      '/svg/chains/bnb.svg',
	      polygon:  '/svg/chains/polygon-zkevm.svg',
	      arbitrum: '/svg/chains/arbitrum.svg',
	      optimism: '/svg/chains/optimism.svg',
	      solana:   '/svg/chains/solana.svg',
          opbnb:   '/svg/chains/opbnb.svg',
          zksync:   '/svg/chains/zksync.svg',
          base:   '/svg/chains/base.svg',   
	    };
	    var NAME = {
	      ethereum: 'Ethereum',
	      bnb:      'BNB Chain',
	      polygon:  'Polygon',
	      arbitrum: 'Arbitrum',
	      optimism: 'Optimism',
	      solana:   'Solana',
          opbnb:   'opBNB',
          zksync:   'Zksync',
          base:   'Base',
	    };
	    // 3) 找到徽章节点（你按钮里已有这些 id）
	    var badge  = document.getElementById('networkBadge');
	    var iconEl = document.getElementById('networkBadgeIcon');
	    var textEl = document.getElementById('networkBadgeText');
	    if (!badge || !iconEl || !textEl) return;
	    // 4) 计算首屏 key：Solana 直接显示 solana，其它默认 ethereum
	    var key  = (pref && pref.key)  || 'ethereum';
	    var kind = (pref && pref.kind) || 'evm';
	    if (kind === 'solana') key = 'solana';
	    // 5) 同步渲染，不等 SDK
	    iconEl.src = ICON[key] || ICON.ethereum;
	    iconEl.alt = NAME[key] || 'Network';
	    textEl.textContent = NAME[key] || 'Network';
	    badge.style.display = 'inline-flex';
	    badge.style.visibility = 'visible'; // 解除初始隐藏
	  } catch (e) {
	    // 静默失败，避免阻塞首屏
	  }
	})();
	</script>
    <!-- Main Content -->
    
    <!-- 钱包选择模态框 -->
    <div id="walletModal" class="wallet-modal">
        <div class="wallet-modal-content">
            <button class="wallet-close-btn" onclick="closeWalletModal()">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
            
            <div class="wallet-modal-header">
                <h2 class="wallet-modal-title">Log in or sign up</h2>
                <p class="wallet-modal-subtitle">Log in and connect wallet to earn USDC credits</p>
            </div>

            <div class="wallet-options">
                <div class="wallet-option available" onclick="connectSolanaPhantom()">
                    <span class="wallet-icon-wrap">
                        <img src="svg/phantom.svg" alt="Phantom">
                    </span>
                    <div class="wallet-info">
                        <div class="wallet-name">Phantom (Solana Devnet)</div>
                        <div class="wallet-desc">Pay and check in with USDC on Solana Devnet</div>
                    </div>
                </div>

                <div class="wallet-footer">
                    By Intelligence Cubed
                </div>

            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="api-manager.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <script src="wallet-manager.js"></script>
    <script src="wallet-integration.js"></script>
    <script src="account-dropdown.js"></script>
    <script type="module" src="chains.js"></script>
    <script type="module" src="solana-wallet.js"></script>
    <script type="module" src="solana-checkin.js"></script>
    <script src="onchain-checkin.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function(){
        try { injectAccountDropdown('#accountDropdownMount'); } catch (e) { console.warn('injectAccountDropdown failed:', e); }
      });
    </script>
    <script type="module">
        import googleAuthManager from './src/google-auth.js';
        window.googleAuthManager = googleAuthManager;
        window.handleGoogleSignIn = () => googleAuthManager.signIn();
        window.handleDailyCheckin = () => googleAuthManager.handleDailyCheckin();
    </script>
    <script src="modelverse.js"></script>
    <script>
        window.handleSearch = window.handleSearch;
    </script>
</body>
</html> 
